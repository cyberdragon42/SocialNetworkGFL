@model BusinessLogic.Dto.PostModel

@using Microsoft.AspNetCore.Mvc.Localization

@inject IViewLocalizer Localizer

<div>
    <div>
        <div>
            @await Html.PartialAsync("../Shared/_Post.cshtml", Model)
        </div>
    </div>
    <div class="row">
        <form asp-action="Post">
            <fieldset>
                <legend>@Localizer["AddComment"]</legend>
                <div class="form-group">
                    <input type="text" asp-for="Content" class="form-control" value="" />
                </div>
                <div class="form-group">
                    <input type="submit" value=@Localizer["AddCommentButton"] class="btn btn-primary" />
                </div>
            </fieldset>
        </form>
    </div>
    
    <div>
        @foreach (var item in Model.Comments)
        {
            <h4>@item.User.Name</h4>
            <a asp-controller="Profile"
               asp-action="Index" asp-route-id="@item.User.Id">@item.User.UserName
            </a>
            <p>@item.Content</p>
            <p>@item.Date.ToLocalTime()</p>
            <hr />
        }
    </div>
</div>
